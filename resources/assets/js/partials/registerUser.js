document.addEventListener("DOMContentLoaded", () => {
    // Triggers elements
    let autogenerateBtn = document.getElementById('autogenerateBtn');
    let addSecondPhoneField = document.getElementById('addSecondPhoneField');

    // Form fields elements
    let nameField = document.querySelector('input[name=NOMBRE]');
    let lastName1Field = document.querySelector('input[name=APELLIDO1]');
    let lastName2Field = document.querySelector('input[name=APELLIDO2]');
    let emailField = document.querySelector('input[name=EMAIL]');
    let phone1Field = document.querySelector('input[name=TELEFONO1]');
    let phone2Field = document.querySelector('input[name=TELEFONO2]');
    let passwordField = document.querySelector('input[name=PASSWORD]');
    let passwordConfirmationField = document.querySelector('input[name=PASSWORD_confirmation]');
    let centerField = document.querySelector('select[name=IDCENTRO]');

    // Sections elements
    let formGroupPhone2Field = document.getElementById('formGroupPhone2Field')
    let addSecondPhoneFieldRow = document.getElementById('addSecondPhoneFieldRow')
    let autogenerateHint = document.getElementById('autogenerateHint')

    // Events
    autogenerateBtn.addEventListener('click', () => autogenerateData())
    addSecondPhoneField.addEventListener('click', () => openSecondPhoneField())

    /* Functions */

    // Show a new field to add a second phone number and hide the button to add more phones
    let openSecondPhoneField = () => {
        addSecondPhoneFieldRow.classList.add('d-none');
        formGroupPhone2Field.classList.remove('d-none');
    }
    // Generate random values to each form field
    let autogenerateData = () => {
        showHint();
        nameField.value = faker.name.findName();
        lastName1Field.value = faker.name.lastName();
        lastName2Field.value = faker.name.lastName();
        emailField.value = faker.internet.email();
        phone1Field.value = faker.phone.phoneNumber('6########');
        if (phone2Field) {
            phone2Field.value = faker.phone.phoneNumber('6########');
        }
        let password = 'password'
        passwordField.value = password
        passwordConfirmationField.value = password
        centerField.value = 1
    }
    // Show a little hint
    let showHint = () => {
        autogenerateHint.classList.remove('d-none')
    }

})
